
CREATE TABLE CIDADE (
	CD_CID NUMBER(5) NOT NULL,
	NM_CID VARCHAR2(30) NOT NULL
);


CREATE TABLE CLIENTE (
	CD_CLI NUMBER(5) NOT NULL,
	NM_CLI VARCHAR2(30) NOT NULL,
	DT_NAS DATE,
	TP_CLI VARCHAR2(15),
	CD_CID NUMBER(5) NOT NULL
);


ALTER TABLE CIDADE
	ADD CONSTRAINT CID_PK PRIMARY KEY (CD_CID);


ALTER TABLE CLIENTE
	ADD CONSTRAINT CLI_PK PRIMARY KEY (CD_CLI);
	
	
ALTER TABLE CLIENTE
	ADD CONSTRAINT CLI_CID_FK FOREIGN KEY (CD_CID) REFERENCES CIDADE (CD_CID);
	
	
CREATE INDEX CLI_CID_FK_I ON CLIENTE (CD_CID);





INSERT INTO CIDADE (CD_CID, NM_CID) VALUES (1, 'TUBARÃO');

INSERT INTO CIDADE (NM_CID, CD_CID) VALUES ('FLORIANÓPOLIS', 2);

INSERT INTO CIDADE VALUES (3, 'CRICIÚMA'); -- caso não seja informado as colunas, o banco pega a ordem default --


INSERT INTO CLIENTE (CD_CLI, NM_CLI, DT_NAS, TP_CLI, CD_CID)
	   VALUES (1, 'JOÃO', '20/05/1977', 'BOM', 2);
	   
	   
INSERT INTO CLIENTE (CD_CLI, NM_CLI, TP_CLI, CD_CID)
	   VALUES (2, 'MARIO', 'OTIMO', 1);
	   
	   
-- efetua as transações no banco --
COMMIT;


UPDATE CLIENTE SET TP_CLI = 'OTIMO' WHERE CD_CLI = 1;

DELETE CIDADE WHERE CD_CID = 3;